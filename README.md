# Express RESTful API –∑ Passport —Ç–∞ —Å–µ—Å—ñ—è–º–∏

–°–µ—Ä–≤–µ—Ä –Ω–∞ **Node.js + Express**, —â–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –∫–æ–º–ø–ª–µ–∫—Å–Ω—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é **Passport.js** —Ç–∞ —Å–µ—Å—ñ–π. –ü—Ä–æ—î–∫—Ç –≤–∫–ª—é—á–∞—î HTML-—Å—Ç–æ—Ä—ñ–Ω–∫–∏, REST API, —à–∞–±–ª–æ–Ω—ñ–∑–∞—Ç–æ—Ä–∏ Pug/EJS, middleware –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó, –∞ —Ç–∞–∫–æ–∂ –∑—Ä—É—á–Ω–µ –¥–µ–º–æ-—Ç–µ–º—É–≤–∞–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.

## üìö –ó–º—ñ—Å—Ç
- [–û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ](#–æ—Å–Ω–æ–≤–Ω—ñ-–º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó](#—Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó)
- [–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫](#–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è-—Ç–∞-–∑–∞–ø—É—Å–∫)
- [–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è MongoDB Atlas](#–ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è-mongodb-atlas)
- [–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —Ç–∞ —Å–µ—Å—ñ—ó](#–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è-—Ç–∞-—Å–µ—Å—ñ—ó)
- [–¢–µ–º–∏ —Ç–∞ cookies](#—Ç–µ–º–∏-—Ç–∞-cookies)
- [–ú–∞—Ä—à—Ä—É—Ç–∏](#–º–∞—Ä—à—Ä—É—Ç–∏)
- [–î–µ–º–æ-–∞–∫–∞—É–Ω—Ç–∏](#–¥–µ–º–æ-–∞–∫–∞—É–Ω—Ç–∏)

## ‚≠ê –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ
- üîê **–õ–æ–∫–∞–ª—å–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è Passport (email + –ø–∞—Ä–æ–ª—å)**
- üîÑ **–°–µ—Å—ñ—ó —á–µ—Ä–µ–∑ express-session** –∑ httpOnly cookies
- üë§ **–ó–∞—Ö–∏—â–µ–Ω—ñ –º–∞—Ä—à—Ä—É—Ç–∏** (`/auth/profile`, `/protected`)
- üìù **Pug —Ç–∞ EJS —à–∞–±–ª–æ–Ω—ñ–∑–∞—Ç–æ—Ä–∏** –¥–ª—è —Å—Ç–æ—Ä—ñ–Ω–æ–∫ —Ç–∞ –∫–æ–Ω—Ç–µ–Ω—Ç—É
- üß© **Middleware**: –ª–æ–≥—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø—É, –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö
- üì¶ **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ MongoDB Atlas** —ñ–∑ –º–∞—Ä—à—Ä—É—Ç–æ–º –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É —Ç–∞ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–º REST API
- üé® **–°–≤—ñ—Ç–ª–∞/—Ç–µ–º–Ω–∞ —Ç–µ–º–∞** —á–µ—Ä–µ–∑ cookies

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó
- [Node.js](https://nodejs.org/)
- [Express.js](https://expressjs.com/)
- [Passport.js](https://www.passportjs.org/) –∑ –ª–æ–∫–∞–ª—å–Ω–æ—é —Å—Ç—Ä–∞—Ç–µ–≥—ñ—î—é
- [express-session](https://www.npmjs.com/package/express-session)
- [bcryptjs](https://www.npmjs.com/package/bcryptjs) –¥–ª—è —Ö–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤
- [Pug](https://pugjs.org/) —Ç–∞ [EJS](https://ejs.co/)
- [cookie-parser](https://www.npmjs.com/package/cookie-parser)
- [MongoDB Node.js Driver](https://www.npmjs.com/package/mongodb) –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ MongoDB Atlas

> ‚öôÔ∏è –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Passport, Passport-Local —Ç–∞ Express-Session –ø–æ—Å—Ç–∞—á–∞—é—Ç—å—Å—è –∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó `vendor/` —ñ –ø—ñ–¥–∫–ª—é—á–∞—é—Ç—å—Å—è —á–µ—Ä–µ–∑ `file:` –ø–æ—Å–∏–ª–∞–Ω–Ω—è, —Ç–æ–º—É –≤–æ–Ω–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –æ—Ñ–ª–∞–π–Ω.

## üöÄ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫
1. –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:
   ```bash
   git clone <your-repository-url>
   cd fullstack_hw64.1
   ```

2. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
   ```bash
   npm install
   ```

3. –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ `.env.example` —É `.env` —Ç–∞ –∑–∞–ø–æ–≤–Ω–∏—Ç–∏ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è (–¥–∏–≤. [–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è MongoDB Atlas](#–ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è-mongodb-atlas)).

4. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä —É —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏:
   ```bash
   npm run dev
   ```
   –∞–±–æ —É –ø—Ä–æ–¥–∞–∫—à–Ω-—Ä–µ–∂–∏–º—ñ:
   ```bash
   npm start
   ```

5. –í—ñ–¥–∫—Ä–∏—Ç–∏ –±—Ä–∞—É–∑–µ—Ä: [http://localhost:3000](http://localhost:3000)

## üå©Ô∏è –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è MongoDB Atlas
1. –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–ª–∞—Å—Ç–µ—Ä —É [MongoDB Atlas](https://www.mongodb.com/atlas) –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ —ñ—Å–Ω—É—é—á–∏–π.
2. –î–æ–¥–∞–π—Ç–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —Ç–∞ –¥–æ–∑–≤–æ–ª—å—Ç–µ –¥–æ—Å—Ç—É–ø —ñ–∑ –≤–∞—à–æ—ó IP-–∞–¥—Ä–µ—Å–∏ (Network Access).
3. –û—Ç—Ä–∏–º–∞–π—Ç–µ URI –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è (—Ñ–æ—Ä–º–∞—Ç `mongodb+srv://...`).
4. –°–∫–æ–ø—ñ—é–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —Ç–∞ –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –∑–º—ñ–Ω–Ω—ñ:
   ```bash
   cp .env.example .env
   ```
   - `MONGODB_URI` ‚Äî —Ä—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è Atlas.
   - `MONGODB_DB_NAME` ‚Äî –±–∞–∑–∞ –¥–∞–Ω–∏—Ö, –∑ —è–∫–æ—é –ø—Ä–∞—Ü—é—î –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫.
   - `MONGODB_COLLECTION` ‚Äî –∫–æ–ª–µ–∫—Ü—ñ—è, –¥–æ–∫—É–º–µ–Ω—Ç–∏ —è–∫–æ—ó –±—É–¥—É—Ç—å –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏—Å—è –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ `/atlas/data`.
   - `MONGODB_TLS_CA_FILE` ‚Äî (–æ–ø—Ü—ñ–π–Ω–æ) —à–ª—è—Ö –¥–æ –∫–æ—Ä–µ–Ω–µ–≤–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞, —è–∫—â–æ –ª–æ–∫–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –Ω–µ –¥–æ–≤—ñ—Ä—è—î Atlas.
   - `MONGODB_TLS_ALLOW_INVALID_CERTS` ‚Äî –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —É `true`, —â–æ–± —Ç–∏–º—á–∞—Å–æ–≤–æ –≤–∏–º–∫–Ω—É—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É TLS (–¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏).
   - `SESSION_SECRET` ‚Äî —Å–µ–∫—Ä–µ—Ç –¥–ª—è –ø—ñ–¥–ø–∏—Å—É —Å–µ—Å—ñ–π (–∑–º—ñ–Ω—ñ—Ç—å –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–Ω–æ–º).
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä, —â–æ–± –ø—ñ–¥—Ç—è–≥–Ω—É—Ç–∏ –Ω–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è. –ü—Ä–∏ —É—Å–ø—ñ—à–Ω–æ–º—É –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—ñ –≤ –∫–æ–Ω—Å–æ–ª—ñ –∑'—è–≤–∏—Ç—å—Å—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è `–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ MongoDB Atlas –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.`

> –Ø–∫—â–æ –∑–º—ñ–Ω–Ω—ñ Atlas –Ω–µ –∑–∞–¥–∞–Ω—ñ, —Å–µ—Ä–≤–µ—Ä –ø—Ä–æ–¥–æ–≤–∂–∏—Ç—å —Ä–æ–±–æ—Ç—É —É –¥–µ–º–æ-—Ä–µ–∂–∏–º—ñ –±–µ–∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö. –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥—ñ –Ω–∞ `/atlas/data` –±—É–¥–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–µ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è.

### –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ TLS-–ø–æ–º–∏–ª–æ–∫ Atlas

–Ø–∫—â–æ –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É –≤–∏ –±–∞—á–∏—Ç–µ –ø–æ–º–∏–ª–∫—É –Ω–∞ –∫—à—Ç–∞–ª—Ç `ERR_SSL_TLSV1_ALERT_INTERNAL_ERROR`, Atlas –Ω–µ –ø—Ä–∏–π–º–∞—î TLS-–∑'—î–¥–Ω–∞–Ω–Ω—è –≤—ñ–¥ –≤–∞—à–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞.

1. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç [https://www.mongodb.com/ca-cert](https://www.mongodb.com/ca-cert) —ñ –∑–±–µ—Ä–µ–∂—ñ—Ç—å, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫ `rds-combined-ca-bundle.pem`.
2. –£ `.env` –≤–∫–∞–∂—ñ—Ç—å —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É: `MONGODB_TLS_CA_FILE=/–ø–æ–≤–Ω–∏–π/—à–ª—è—Ö/–¥–æ/rds-combined-ca-bundle.pem`.
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä. –Ø–∫—â–æ –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–ª–∏—à–∏–ª–∞—Å—å, –≤–∏ –º–æ–∂–µ—Ç–µ —Ç–∏–º—á–∞—Å–æ–≤–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ `MONGODB_TLS_ALLOW_INVALID_CERTS=true`, —â–æ–± –≤–∏–º–∫–Ω—É—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —Ç–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω—ñ—Å—Ç—å URI.

> ‚ö†Ô∏è –í–∏–º–∏–∫–∞–Ω–Ω—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞ —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ª–∏—à–µ –ª–æ–∫–∞–ª—å–Ω–æ –ø—ñ–¥ —á–∞—Å –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è. –£ –ø—Ä–æ–¥–∞–∫—à–Ω—ñ –Ω–∞–¥–∞–≤–∞–π—Ç–µ –¥–æ–≤—ñ—Ä–µ–Ω–∏–π –∫–æ—Ä–µ–Ω–µ–≤–∏–π —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç.

–ü—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–æ–ª–µ–∫—Ü—ñ—é, –≤–∫–∞–∑–∞–Ω—É –≤ `MONGODB_COLLECTION`. –Ø–∫—â–æ –∑–º—ñ–Ω–Ω–∞ –º—ñ—Å—Ç–∏—Ç—å –Ω–∞–∑–≤—É –≤ —Ñ–æ—Ä–º–∞—Ç—ñ `dbName.collectionName`, –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É –±–∞–∑—É. –í —ñ–Ω—à–æ–º—É –≤–∏–ø–∞–¥–∫—É –ø—Ä–∞—Ü—é—î–º–æ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `MONGODB_DB_NAME`.

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —Ç–∞ —Å–µ—Å—ñ—ó
### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Passport
- –õ–æ–∫–∞–ª—å–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **email** —Ç–∞ **–ø–∞—Ä–æ–ª—å**.
- –ü–∞—Ä–æ–ª—ñ —Ö–µ—à—É—é—Ç—å—Å—è `bcryptjs` —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ø–∞–º'—è—Ç—ñ (–¥–µ–º–æ-—Ä–µ–∂–∏–º).
- `passport.serializeUser` —Ç–∞ `passport.deserializeUser` –ø—Ä–∞—Ü—é—é—Ç—å —ñ–∑ –ø–∞–º'—è—Ç—Ç—é —Å–µ—Å—ñ–π.

### –°–µ—Å—ñ—ó
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `express-session` –∑ httpOnly cookies (`connect.sid`).
- –¢–µ—Ä–º—ñ–Ω –∂–∏—Ç—Ç—è cookie ‚Äî 7 –¥–Ω—ñ–≤ (–º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ —É `src/server.mjs`).
- –£ production `secure` –ø—Ä–∞–ø–æ—Ä–µ—Ü—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–º–∏–∫–∞—î—Ç—å—Å—è.

### –ü–æ—Ç—ñ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–ø–æ–≤–Ω—é—î —Ñ–æ—Ä–º—É `/auth/register` –∞–±–æ `/auth/login`.
2. –ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ Passport –≤–∏–∫–ª–∏–∫–∞—î `req.login` —ñ –∑–±–µ—Ä—ñ–≥–∞—î ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —É —Å–µ—Å—ñ—ó.
3. –ü—ñ–¥ —á–∞—Å –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ `passport.session()` –≤—ñ–¥–Ω–æ–≤–ª—é—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ç–∞ –Ω–∞–¥–∞—î –¥–æ—Å—Ç—É–ø –¥–æ –∑–∞—Ö–∏—â–µ–Ω–∏—Ö –º–∞—Ä—à—Ä—É—Ç—ñ–≤.
4. –í–∏—Ö—ñ–¥ (`/auth/logout`) –æ—á–∏—â–∞—î —Å–µ—Å—ñ—é —Ç–∞ cookie.

## üé® –¢–µ–º–∏ —Ç–∞ cookies
- Cookie `theme` –∑–±–µ—Ä—ñ–≥–∞—î –≤–∏–±—ñ—Ä —Ç–µ–º–∏ (`light`/`dark`) –Ω–∞ 30 –¥–Ω—ñ–≤.
- HTTP API –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ç–µ–º–æ—é: `POST /api/theme/set`, `GET /api/theme/current`.
- Cookie —Å–µ—Å—ñ—ó (`connect.sid`) –º–∞—î –ø—Ä–∞–ø–æ—Ä `httpOnly` —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ª–∏—à–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó.

## üó∫Ô∏è –ú–∞—Ä—à—Ä—É—Ç–∏
### HTML-—Å—Ç–æ—Ä—ñ–Ω–∫–∏
| –ú–µ—Ç–æ–¥ | –®–ª—è—Ö            | –û–ø–∏—Å                                  |
|-------|-----------------|---------------------------------------|
| GET   | `/`             | –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑ –æ–ø–∏—Å–æ–º —Å–µ—Ä–≤—ñ—Å—É     |
| GET   | `/auth/login`   | –§–æ—Ä–º–∞ –≤—Ö–æ–¥—É (email + –ø–∞—Ä–æ–ª—å)          |
| GET   | `/auth/register`| –§–æ—Ä–º–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó                      |
| GET   | `/auth/profile` | –ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–∑–∞—Ö–∏—â–µ–Ω–æ)        |
| GET   | `/protected`    | –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ–π–Ω–∏–π –∑–∞—Ö–∏—â–µ–Ω–∏–π –º–∞—Ä—à—Ä—É—Ç     |
| GET   | `/test`         | –°—Ç–æ—Ä—ñ–Ω–∫–∞ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è UI            |
| GET   | `/atlas/data`   | –î–∞–Ω—ñ –∑ MongoDB Atlas (Pug-—Å—Ç–æ—Ä—ñ–Ω–∫–∞)   |

### MongoDB Atlas REST API
| –ú–µ—Ç–æ–¥ | –®–ª—è—Ö                               | –û–ø–∏—Å |
|-------|------------------------------------|------|
| GET   | `/atlas/api/documents`             | –ß–∏—Ç–∞–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –∑ –æ–ø—Ü—ñ–π–Ω–∏–º —Ñ—ñ–ª—å—Ç—Ä–æ–º, –ø—Ä–æ–µ–∫—Ü—ñ—î—é —Ç–∞ –ª—ñ–º—ñ—Ç–æ–º |
| GET   | `/atlas/api/documents/stream`      | –ü–æ—Ç–æ–∫–æ–≤–µ —á–∏—Ç–∞–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫—É—Ä—Å–æ—Ä–∞ –±–µ–∑ –Ω–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è –≤ –ø–∞–º'—è—Ç—ñ |
| GET   | `/atlas/api/documents/stats`       | –ê–≥—Ä–µ–≥–∞—Ü—ñ–π–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑ –≥–Ω—É—á–∫–æ—é –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é –µ—Ç–∞–ø—ñ–≤ |
| POST  | `/atlas/api/documents`             | –î–æ–¥–∞–≤–∞–Ω–Ω—è –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ `insertOne` |
| POST  | `/atlas/api/documents/bulk`        | –ú–∞—Å–æ–≤–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ —á–µ—Ä–µ–∑ `insertMany` |
| PATCH | `/atlas/api/documents/update-one`  | –û–Ω–æ–≤–ª–µ–Ω–Ω—è –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ `updateOne` |
| PATCH | `/atlas/api/documents/update-many` | –û–Ω–æ–≤–ª–µ–Ω–Ω—è –±–∞–≥–∞—Ç—å–æ—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ —á–µ—Ä–µ–∑ `updateMany` |
| PUT   | `/atlas/api/documents/replace-one` | –ü–æ–≤–Ω–∞ –∑–∞–º—ñ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ `replaceOne` |
| DELETE| `/atlas/api/documents/delete-one`  | –í–∏–¥–∞–ª–µ–Ω–Ω—è –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ `deleteOne` |
| DELETE| `/atlas/api/documents/delete-many` | –ú–∞—Å–æ–≤–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ `deleteMany` |

## üßÆ MongoDB Atlas CRUD API
–ö–æ–∂–µ–Ω –º–∞—Ä—à—Ä—É—Ç –≤–∑–∞—î–º–æ–¥—ñ—î –∑ –∫–æ–ª–µ–∫—Ü—ñ—î—é, –≤–∏–∑–Ω–∞—á–µ–Ω–æ—é –≤ `MONGODB_COLLECTION`. –Ø–∫—â–æ –∑–º—ñ–Ω–Ω–æ—ó –Ω–µ–º–∞—î, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `samples` —É –±–∞–∑—ñ `MONGODB_DB_NAME`. –ù–∏–∂—á–µ –Ω–∞–≤–µ–¥–µ–Ω–æ –ø—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `curl` (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–≤—ñ–π URI —ñ –¥–∞–Ω—ñ):

### üîç –ß–∏—Ç–∞–Ω–Ω—è –∑ –ø—Ä–æ–µ–∫—Ü—ñ—î—é
```bash
curl "http://localhost:3000/atlas/api/documents?filter={\"status\":\"active\"}&projection={\"name\":1,\"status\":1,\"_id\":0}&limit=10"
```
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "count": 2,
  "documents": [
    { "name": "Project A", "status": "active" },
    { "name": "Project B", "status": "active" }
  ]
}
```

### ‚ûï –î–æ–¥–∞–≤–∞–Ω–Ω—è –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (`insertOne`)
```bash
curl -X POST http://localhost:3000/atlas/api/documents \
  -H "Content-Type: application/json" \
  -d '{
    "document": {"name": "Project C", "status": "draft"}
  }'
```
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "acknowledged": true,
  "insertedId": "665d0d6e43c8d90b4fc8412a"
}
```

### üì§ –ü–æ—Ç–æ–∫–æ–≤–µ —á–∏—Ç–∞–Ω–Ω—è –≤–µ–ª–∏–∫–∏—Ö –≤–∏–±—ñ—Ä–æ–∫ (`find` + –∫—É—Ä—Å–æ—Ä)
–ú–∞—Ä—à—Ä—É—Ç `GET /atlas/api/documents/stream` —Ñ–æ—Ä–º—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON –±–µ–∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –Ω–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è –≤—Å—ñ—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ —É –º–∞—Å–∏–≤—ñ.
–°–µ—Ä–≤–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π –ø–µ—Ä–µ–±—ñ—Ä –∫—É—Ä—Å–æ—Ä–∞ MongoDB —Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –¥–æ–∫—É–º–µ–Ω—Ç–∏ —á–∞—Å—Ç–∏–Ω–∞–º–∏, —â–æ —Å—É—Ç—Ç—î–≤–æ –∑–º–µ–Ω—à—É—î –≤–∏—Ç—Ä–∞—Ç–∏ –ø–∞–º'—è—Ç—ñ –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –≤–µ–ª–∏–∫–∏–º–∏ –æ–±—Å—è–≥–∞–º–∏ –¥–∞–Ω–∏—Ö.

```bash
curl "http://localhost:3000/atlas/api/documents/stream?filter={\"category\":\"books\"}&batchSize=200"
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (—Ñ—Ä–∞–≥–º–µ–Ω—Ç):**

```json
{"documents":[
  {"_id":"665d0d6e43c8d90b4fc8412a","title":"The Hobbit"},
  {"_id":"665d0d6e43c8d90b4fc8412b","title":"The Lord of the Rings"}
],"count":2}
```

- `filter` ‚Äî JSON –æ–±'—î–∫—Ç –¥–ª—è –≤—ñ–¥–±–æ—Ä—É –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ (–∞–Ω–∞–ª–æ–≥—ñ—á–Ω–æ –æ—Å–Ω–æ–≤–Ω–æ–º—É –º–∞—Ä—à—Ä—É—Ç—É).
- `projection` ‚Äî –∑–∞ –ø–æ—Ç—Ä–µ–±–∏ –º–æ–∂–Ω–∞ –≤—ñ–¥—ñ–±—Ä–∞—Ç–∏ –ø–æ–ª—è, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å—Å—è.
- `limit` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ —É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (0 = –±–µ–∑ –æ–±–º–µ–∂–µ–Ω—å).
- `batchSize` ‚Äî —Ä–æ–∑–º—ñ—Ä –ø–∞–∫–µ—Ç—É, —è–∫–∏–π –∫—É—Ä—Å–æ—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –∑ –±–∞–∑–∏ –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑ (–¥—ñ–∞–ø–∞–∑–æ–Ω 1‚Äì500).

### üìä –ì–Ω—É—á–∫–∞ –∞–≥—Ä–µ–≥–∞—Ü—ñ—è (`$group`, `$addToSet`, `$project`)
–ú–∞—Ä—à—Ä—É—Ç `GET /atlas/api/documents/stats` –±—É–¥—É—î –∞–≥—Ä–µ–≥–∞—Ü—ñ–π–Ω–∏–π –∫–æ–Ω–≤–µ—î—Ä –Ω–∞ –ª—å–æ—Ç—É. –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –¥–æ–∫—É–º–µ–Ω—Ç–∏ –∞–≥—Ä–µ–≥—É—é—Ç—å—Å—è
–±–µ–∑ –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è (`_id: null`), –∞–ª–µ –º–æ–∂–Ω–∞ –≤–∫–∞–∑–∞—Ç–∏ –ø–æ–ª–µ –¥–ª—è –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏.

–î–æ—Å—Ç—É–ø–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–ø–∏—Ç—É:

- `match` ‚Äî JSON –∑ —É–º–æ–≤–∞–º–∏ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó (–µ—Ç–∞–ø `$match`).
- `groupBy` ‚Äî –ø–æ–ª–µ –¥–ª—è –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è (—Ñ–æ—Ä–º–∞—Ç –±–µ–∑ –ø—Ä–µ—Ñ—ñ–∫—Å–∞ `$`).
- `avgField` ‚Äî –ø–æ–ª–µ –∑ —á–∏—Å–ª–æ–≤–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ –¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É —Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ (`$avg`).
- `sumField` ‚Äî –ø–æ–ª–µ –¥–ª—è –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É —Å—É–º–∏ (`$sum`).
- `uniqueField` ‚Äî –ø–æ–ª–µ –¥–ª—è –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å (—á–µ—Ä–µ–∑ `$addToSet` + `$size`).

```bash
curl "http://localhost:3000/atlas/api/documents/stats?match={\"status\":\"active\"}&groupBy=category&avgField=score&uniqueField=ownerId"
```

**–û—á—ñ–∫—É–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:**

```json
{
  "pipeline": [
    {"$match": {"status": "active"}},
    {
      "$group": {
        "_id": "$category",
        "count": {"$sum": 1},
        "average": {"$avg": "$score"},
        "uniqueValues": {"$addToSet": "$ownerId"}
      }
    },
    {
      "$project": {
        "_id": 1,
        "count": 1,
        "average": 1,
        "total": 1,
        "uniqueCount": {"$size": "$uniqueValues"}
      }
    },
    {"$sort": {"count": -1}}
  ],
  "results": [
    {
      "_id": "analytics",
      "count": 12,
      "average": 87.4,
      "uniqueCount": 9
    }
  ]
}
```

–¢–∞–∫–∏–º —á–∏–Ω–æ–º –º–æ–∂–Ω–∞ —à–≤–∏–¥–∫–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏, –ø—ñ–¥—Ä–∞—Ö—É–≤–∞—Ç–∏ —Å—É–º—É –∞–±–æ —Å–µ—Ä–µ–¥–Ω—î –∑–Ω–∞—á–µ–Ω–Ω—è —á–∏—Å–ª–æ–≤–∏—Ö –ø–æ–ª—ñ–≤, –∞ —Ç–∞–∫–æ–∂
–¥—ñ–∑–Ω–∞—Ç–∏—Å—è, —Å–∫—ñ–ª—å–∫–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –≤–ª–∞—Å–Ω–∏–∫—ñ–≤ –º–∞—î –∫–æ–∂–Ω–∞ –≥—Ä—É–ø–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤.

### üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –º–∞—Ä—à—Ä—É—Ç—ñ–≤ –∑ –∫—É—Ä—Å–æ—Ä–∞–º–∏ —Ç–∞ –∞–≥—Ä–µ–≥–∞—Ü—ñ—î—é
1. **–ü–æ—Ç–æ–∫–æ–≤–µ —á–∏—Ç–∞–Ω–Ω—è**
   ```bash
   curl --no-buffer "http://localhost:3000/atlas/api/documents/stream?limit=100&batchSize=50"
   ```
   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ `{"documents":[` —ñ –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è `],"count":...}`.
   - –Ø–∫—â–æ –¥–∞–Ω–∏—Ö –±–∞–≥–∞—Ç–æ, –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –±—É–¥—É—Ç—å –Ω–∞–¥—Ö–æ–¥–∏—Ç–∏ —á–∞—Å—Ç–∏–Ω–∞–º–∏, –Ω–µ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂—É—é—á–∏ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É –ø–∞–º'—è—Ç—å.

2. **–ê–≥—Ä–µ–≥–∞—Ü—ñ–π–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**
   ```bash
   curl "http://localhost:3000/atlas/api/documents/stats?groupBy=status&sumField=amount&uniqueField=ownerId"
   ```
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ —É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –ø–æ–±—É–¥–æ–≤–∞–Ω–∏–π –∫–æ–Ω–≤–µ—î—Ä (`pipeline`) —ñ –ø—ñ–¥—Ä–∞—Ö–æ–≤–∞–Ω—ñ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è (`results`).
   - –ó–∞ –ø–æ—Ç—Ä–µ–±–∏ –∑–º—ñ–Ω—ñ—Ç—å `match`, `groupBy`, `avgField`, `sumField`, `uniqueField`, —â–æ–± –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è —É –≥–Ω—É—á–∫–æ—Å—Ç—ñ –º–∞—Ä—à—Ä—É—Ç—É.

### ‚ûï –ú–∞—Å–æ–≤–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è (`insertMany`)
```bash
curl -X POST http://localhost:3000/atlas/api/documents/bulk \
  -H "Content-Type: application/json" \
  -d '{
    "documents": [
      {"name": "Project D", "status": "active"},
      {"name": "Project E", "status": "archived"}
    ]
  }'
```
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "acknowledged": true,
  "insertedCount": 2,
  "insertedIds": {
    "0": "665d0de643c8d90b4fc8412b",
    "1": "665d0de643c8d90b4fc8412c"
  }
}
```

### ‚ôªÔ∏è –û–Ω–æ–≤–ª–µ–Ω–Ω—è –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (`updateOne`)
```bash
curl -X PATCH http://localhost:3000/atlas/api/documents/update-one \
  -H "Content-Type: application/json" \
  -d '{
    "filter": {"name": "Project C"},
    "update": {"$set": {"status": "active"}}
  }'
```
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "acknowledged": true,
  "matchedCount": 1,
  "modifiedCount": 1,
  "upsertedId": null
}
```

### ‚ôªÔ∏è –ú–∞—Å–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è (`updateMany`)
```bash
curl -X PATCH http://localhost:3000/atlas/api/documents/update-many \
  -H "Content-Type: application/json" \
  -d '{
    "filter": {"status": "active"},
    "update": {"$set": {"updatedAt": "2024-05-01T00:00:00.000Z"}}
  }'
```
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "acknowledged": true,
  "matchedCount": 3,
  "modifiedCount": 3,
  "upsertedId": null
}
```

### üîÅ –ó–∞–º—ñ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (`replaceOne`)
```bash
curl -X PUT http://localhost:3000/atlas/api/documents/replace-one \
  -H "Content-Type: application/json" \
  -d '{
    "filter": {"name": "Project D"},
    "replacement": {"name": "Project D", "status": "archived"}
  }'
```
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "acknowledged": true,
  "matchedCount": 1,
  "modifiedCount": 1,
  "upsertedId": null
}
```

### üóëÔ∏è –í–∏–¥–∞–ª–µ–Ω–Ω—è –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (`deleteOne`)
```bash
curl -X DELETE http://localhost:3000/atlas/api/documents/delete-one \
  -H "Content-Type: application/json" \
  -d '{
    "filter": {"name": "Project E"}
  }'
```
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "acknowledged": true,
  "deletedCount": 1
}
```

### üóëÔ∏è –ú–∞—Å–æ–≤–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è (`deleteMany`)
```bash
curl -X DELETE http://localhost:3000/atlas/api/documents/delete-many \
  -H "Content-Type: application/json" \
  -d '{
    "filter": {"status": "archived"}
  }'
```
**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "acknowledged": true,
  "deletedCount": 2
}
```

> üí° –£ –ø—Ä–∏–∫–ª–∞–¥–∞—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —Ä—è–¥–∫–∏ JSON —ñ–∑ –µ–∫—Ä–∞–Ω—É–≤–∞–Ω–Ω—è–º –ª–∞–ø–æ–∫. –î–ª—è –±—ñ–ª—å—à –∑—Ä—É—á–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –º–æ–∂–Ω–∞ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ Postman –∞–±–æ —ñ–Ω—à—ñ –∫–ª—ñ—î–Ω—Ç–∏, —â–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ñ–æ—Ä–º—É—é—Ç—å –∑–∞–ø–∏—Ç.

### REST API (—Ñ—Ä–∞–≥–º–µ–Ω—Ç)
| –ú–µ—Ç–æ–¥ | –®–ª—è—Ö             | –û–ø–∏—Å                                        |
|-------|------------------|---------------------------------------------|
| POST  | `/auth/register` | –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ç–∞ –∞–≤—Ç–æ–ª–æ–≥—ñ–Ω         |
| POST  | `/auth/login`    | –í—Ö—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (Passport Local)           |
| POST  | `/auth/logout`   | –í–∏—Ö—ñ–¥ —ñ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å–µ—Å—ñ—ó                     |
| GET   | `/auth/me`       | –î–∞–Ω—ñ –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (JSON)           |
| GET   | `/protected`     | JSON-–≤—ñ–¥–ø–æ–≤—ñ–¥—å –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ |
| GET   | `/users/:userId` | –†–æ–±–æ—Ç–∞ –∑ –¥–∞–Ω–∏–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (–¥–µ–º–æ)        |
| GET   | `/articles`      | –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ–π–Ω—ñ —Å—Ç–∞—Ç—Ç—ñ (EJS)                |

## üë§ –î–µ–º–æ-–∞–∫–∞—É–Ω—Ç–∏
| –†–æ–ª—å  | Email               | –ü–∞—Ä–æ–ª—å   |
|-------|---------------------|----------|
| Admin | `admin@example.com` | `admin123` |
| User  | `user@example.com`  | `user123`  |

> –ù–æ–≤—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –∑–∞–ø–∏—Å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞—é—Ç—å—Å—è –¥–æ –¥–µ–º–æ-—Å—Ö–æ–≤–∏—â–∞ —Ç–∞ –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –≤—ñ–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó.